<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="bodyHeader">
    <style>
        body {
            padding-top: 90px; /* navbar 높이 + 여분 */
        }
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: #D4EAFB;
            color: white;
            padding: 10px 150px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            height: 70px; /* 네비게이션 바 높이 증가 */
        }
        .navbar a {
            color: white;
            text-decoration: none;
        }
        .navbar-brand {
            font-size: 28px;
            font-weight: bold;
        }
        .navbar .navbar-brand {
            color: #5CC4F8;
        }
        .navbar-search {
            flex-grow: 0.5; /* 검색창 너비 조절 */
            margin: 0 20px;
            display: flex;
        }
        .navbar-search input {
            flex-grow: 1;
            padding: 8px;
            font-size: 16px;
        }
        .navbar-search button {
            margin-left: 10px;
            padding: 8px 15px;
            font-size: 16px;
        }
        .navbar-links {
            display: flex;
            align-items: center;
        }
        .navbar-links > * {
            margin-left: 15px;
        }
        .btn {
            padding: 8px 15px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .btn-primary {
            background-color: #A4AFB1;
            color: white;
        }
        .btn-info {
            background-color: #A4AFB1;
            color: white;
        }
        .user-icon {
            display: flex;
            align-items: center;
        }
        .navbar .user-icon {
            color: #A4AFB1;
        }
        .user-icon i {
            margin-right: 5px;
        }
    </style>
    <nav class="navbar">
        <a href="/jwt-login" class="navbar-brand">아주키노</a>
        <form class="navbar-search" th:action="@{/jwt-login/search?searchType=${searchType}}" method="get">
            <select id="searchType" name="searchType">
                <option value="movieTitle">영화 제목</option>
                <option value="userNickname">사용자 이름</option>
            </select>
            <input type="text" name="query" placeholder="영화 제목을 입력하세요">
            <button type="submit" class="btn btn-primary">검색</button>
        </form>
        <div class="navbar-links">
            <!-- 로그인 전 -->
            <a th:if="${#authentication.name == 'anonymousUser'}"
               th:href="@{/oauth2/authorization/google}"
               class="btn btn-primary" role="button">로그인</a>

            <!-- 로그인 후 -->
            <a th:if="${#authentication.name != 'anonymousUser'}"
               th:href="@{'/info/' + ${#authentication.name}}" class="user-icon">
                <i class="fas fa-user"></i>
                <span>유저 정보</span>
            </a>
            <a th:if="${#authentication.name != 'anonymousUser'}"
               th:href="@{'/additional-info' + '/' + ${#authentication.name}}"
               class="btn btn-info">추가 정보</a>
            <form th:if="${#authentication.name != 'anonymousUser'}"
                  th:action="@{/api/logout}"
                  method="post"
                  style="display: inline;">
                <button type="submit" class="btn btn-primary">로그아웃</button>
            </form>

        </div>
    </nav>
</div>
</html>